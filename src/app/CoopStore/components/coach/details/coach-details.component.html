<!-- Grande carte principale -->
<div class="max-w-6xl mx-auto mt-1 p-6 rounded-3xl shadow-2xl bg-white border border-gray-200">

  <!-- ğŸ”™ Bouton retour en haut Ã  gauche -->
  <div class="mb-1">
    <button
      class="back-button"
      (click)="goBackToTable()"
      aria-label="Retour au tableau"
      title="Retour"
    >
      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
        <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
      </svg>
    </button>
  </div>

  <!-- ğŸ§© Grille des cartes internes -->
  <div class="grid grid-cols-1 md:grid-cols-2 gap-6 text-[17px] md:text-[18px] lg:text-[19px]">
    
    <!-- ğŸŸ¦ Carte utilisateur -->
  <!-- ğŸŸ¦ Carte utilisateur -->
  <div
    class="card rounded-2xl p-6 border border-green-400 bg-white shadow-lg"
    style="box-shadow: 0 4px 10px rgba(80, 92, 113, 0.3);"
  >
    <h2 class="text-3xl font-bold mb-6 text-blue-800 flex items-center gap-2">
      ğŸ‘¤ Profil de l'utilisateur
    </h2>
    <p class="text-gray-800 mb-3"><strong>ğŸ‘¤ Nom :</strong> {{ user?.name || 'Non renseignÃ©' }}</p>
    <p class="text-gray-800 mb-3"><strong>ğŸ“§ Email :</strong> {{ user?.email || 'Non renseignÃ©' }}</p>
    <p class="text-gray-800 mb-3"><strong>ğŸ™ï¸ Ville :</strong> {{ user?.city || 'Non renseignÃ©' }}</p>
    <p class="text-gray-800 mb-3"><strong>ğŸ“ RÃ´le :</strong> {{ user?.role || 'Non renseignÃ©' }}</p>
    <p class="text-gray-800 mb-3">
      <strong>âœ… Profil complÃ©tÃ© :</strong>
      <span [ngClass]="{
        'text-green-600 font-semibold': user?.profileCompleted,
        'text-red-600 font-semibold': !user?.profileCompleted
      }">
        {{ user?.profileCompleted ? 'Oui' : 'Non' }}
      </span>
    </p>
  </div>


  <!-- ğŸŸ© Carte coopÃ©rative (affichÃ©e seulement si le profil est complÃ©tÃ©) -->
<!-- ğŸŸ© Carte coopÃ©rative (fond blanc, ombre verte) -->
<div
  *ngIf="user?.profileCompleted; else incompleteProfile"
  class="card rounded-2xl p-6 border border-green-400 bg-white shadow-lg"
  style="box-shadow: 0 4px 10px rgba(80, 92, 113, 0.3);"  
>
  <div class="text-center mb-6">
    <img
      *ngIf="user?.cooperativeProfile?.logoUrl"
      [src]="getFullLogoUrl(user?.cooperativeProfile?.logoUrl)"
      alt="Logo CoopÃ©rative"
      class="mx-auto rounded-lg shadow-md border border-gray-300"
      style="max-width: 180px;"
    />
    <ng-template #noLogo><p>Aucun logo disponible</p></ng-template>
  </div>

  <h2 class="text-3xl font-bold mb-6 text-green-800 flex items-center gap-2">
    ğŸ¢ Informations de la coopÃ©rative
  </h2>
  <p class="text-gray-800 mb-3"><strong>ğŸ·ï¸ Nom :</strong> {{ user?.cooperativeProfile?.cooperativeName || 'Non renseignÃ©' }}</p>
  <p class="text-gray-800 mb-3"><strong>ğŸ“„ NumÃ©ro d'agrÃ©ment :</strong> {{ user?.cooperativeProfile?.agreementNumber || 'Non renseignÃ©' }}</p>
  <p class="text-gray-800 mb-3"><strong>ğŸ“ TÃ©lÃ©phone :</strong> {{ user?.cooperativeProfile?.phone || 'Non renseignÃ©' }}</p>
  <p class="text-gray-800 mb-3"><strong>ğŸ“ Adresse :</strong> {{ user?.cooperativeProfile?.address || 'Non renseignÃ©' }}</p>
  <p class="text-gray-800 mb-3"><strong>ğŸ›ï¸ Produits :</strong> {{ user?.cooperativeProfile?.products || 'Non renseignÃ©' }}</p>
  <p class="text-gray-800 mb-3">
    <strong>ğŸŒ Site web :</strong>
    <ng-container *ngIf="user?.cooperativeProfile?.website; else noWebsite">
      <a
        [href]="user?.cooperativeProfile?.website"
        target="_blank"
        class="text-blue-600 underline font-medium"
      >
        {{ user?.cooperativeProfile?.website }}
      </a>
    </ng-container>
    <ng-template #noWebsite><span class="text-gray-500">Non renseignÃ©</span></ng-template>
  </p>
  <p class="text-gray-800 mb-3"><strong>ğŸ—ºï¸ RÃ©gion :</strong> {{ user?.cooperativeProfile?.region || 'Non renseignÃ©' }}</p>
  <p class="text-gray-800"><strong>ğŸ™ï¸ Ville :</strong> {{ user?.cooperativeProfile?.city || 'Non renseignÃ©' }}</p>
</div>

<ng-template #incompleteProfile>
  <!-- Affiche rien ou un message si tu veux -->
</ng-template>

  </div>
</div>